@using BookStoreEcommerce.Utilities
@{
    var currentUser = SessionHelper.GetCurrentUser(Context.Session);
    bool isLoggedIn = currentUser != null;
}

<ul class="navbar-nav">
    @if (isLoggedIn && currentUser != null)
    {
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                Welcome, @currentUser.FirstName!
            </a>
            <ul class="dropdown-menu">
                @if (currentUser.UserType == BookStoreEcommerce.Models.Entities.UserType.Customer)
                {
                    <li><a class="dropdown-item" asp-controller="Cart" asp-action="Index">My Cart</a></li>
                    <li><a class="dropdown-item" asp-controller="Order" asp-action="Index">My Orders</a></li>
                    <li><a class="dropdown-item" asp-controller="Account" asp-action="Profile">Profile</a></li>
                }
                else if (currentUser.UserType == BookStoreEcommerce.Models.Entities.UserType.Admin)
                {
                    <li><a class="dropdown-item" asp-area="Admin" asp-controller="Dashboard" asp-action="Index">Admin Dashboard</a></li>
                }
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" asp-controller="Account" asp-action="Logout">Logout</a></li>
            </ul>
        </li>
    }
    else
    {
        <li class="nav-item">
            <a class="nav-link" asp-controller="Account" asp-action="Login">Login</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" asp-controller="Account" asp-action="Register">Register</a></li>
    }
</ul>
